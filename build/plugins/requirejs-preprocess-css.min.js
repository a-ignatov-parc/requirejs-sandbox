!function(e,n){"function"==typeof define&&define.amd?define("requirejs-preprocess-css",[],n):(e.requirejsSandbox||(e.requirejsSandbox={}),e.requirejsSandbox.plugins["requirejs-preprocess-css"]=n())}(this,function(){var e,n,t;return function(r){function o(e,n){return b.call(e,n)}function s(e,n){var t,r,o,s,i,c,u,a,f,l,p,d=n&&n.split("/"),h=v.map,g=h&&h["*"]||{};if(e&&"."===e.charAt(0))if(n){for(d=d.slice(0,d.length-1),e=e.split("/"),i=e.length-1,v.nodeIdCompat&&j.test(e[i])&&(e[i]=e[i].replace(j,"")),e=d.concat(e),f=0;f<e.length;f+=1)if(p=e[f],"."===p)e.splice(f,1),f-=1;else if(".."===p){if(1===f&&(".."===e[2]||".."===e[0]))break;f>0&&(e.splice(f-1,2),f-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((d||g)&&h){for(t=e.split("/"),f=t.length;f>0;f-=1){if(r=t.slice(0,f).join("/"),d)for(l=d.length;l>0;l-=1)if(o=h[d.slice(0,l).join("/")],o&&(o=o[r])){s=o,c=f;break}if(s)break;!u&&g&&g[r]&&(u=g[r],a=f)}!s&&u&&(s=u,c=a),s&&(t.splice(0,c,s),e=t.join("/"))}return e}function i(e,n){return function(){return d.apply(r,w.call(arguments,0).concat([e,n]))}}function c(e){return function(n){return s(n,e)}}function u(e){return function(n){m[e]=n}}function a(e){if(o(y,e)){var n=y[e];delete y[e],x[e]=!0,p.apply(r,n)}if(!o(m,e)&&!o(x,e))throw new Error("No "+e);return m[e]}function f(e){var n,t=e?e.indexOf("!"):-1;return t>-1&&(n=e.substring(0,t),e=e.substring(t+1,e.length)),[n,e]}function l(e){return function(){return v&&v.config&&v.config[e]||{}}}var p,d,h,g,m={},y={},v={},x={},b=Object.prototype.hasOwnProperty,w=[].slice,j=/\.js$/;h=function(e,n){var t,r=f(e),o=r[0];return e=r[1],o&&(o=s(o,n),t=a(o)),o?e=t&&t.normalize?t.normalize(e,c(n)):s(e,n):(e=s(e,n),r=f(e),o=r[0],e=r[1],o&&(t=a(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:t}},g={require:function(e){return i(e)},exports:function(e){var n=m[e];return"undefined"!=typeof n?n:m[e]={}},module:function(e){return{id:e,uri:"",exports:m[e],config:l(e)}}},p=function(e,n,t,s){var c,f,l,p,d,v,b=[],w=typeof t;if(s=s||e,"undefined"===w||"function"===w){for(n=!n.length&&t.length?["require","exports","module"]:n,d=0;d<n.length;d+=1)if(p=h(n[d],s),f=p.f,"require"===f)b[d]=g.require(e);else if("exports"===f)b[d]=g.exports(e),v=!0;else if("module"===f)c=b[d]=g.module(e);else if(o(m,f)||o(y,f)||o(x,f))b[d]=a(f);else{if(!p.p)throw new Error(e+" missing "+f);p.p.load(p.n,i(s,!0),u(f),{}),b[d]=m[f]}l=t?t.apply(m[e],b):void 0,e&&(c&&c.exports!==r&&c.exports!==m[e]?m[e]=c.exports:l===r&&v||(m[e]=l))}else e&&(m[e]=t)},e=n=d=function(e,n,t,o,s){if("string"==typeof e)return g[e]?g[e](n):a(h(e,n).f);if(!e.splice){if(v=e,v.deps&&d(v.deps,v.callback),!n)return;n.splice?(e=n,n=t,t=null):e=r}return n=n||function(){},"function"==typeof t&&(t=o,o=s),o?p(r,e,n,t):setTimeout(function(){p(r,e,n,t)},4),d},d.config=function(e){return d(e)},e._defined=m,t=function(e,n,t){n.splice||(t=n,n=[]),o(m,e)||o(y,e)||(y[e]=[e,n,t])},t.amd={jQuery:!0}}(),t("../bower_components/almond/almond",function(){}),t("helpers/utils",[],function(){var e=Array.prototype,n=Object.prototype,t=n.hasOwnProperty,r=e.forEach,o=e.slice,s={},i=document.createElement("a");return{has:function(e,n){return t.call(e,n)},each:function(e,n,t){if(null!=e)if(r&&e.forEach===r)e.forEach(n,t);else if(e.length===+e.length){for(var o=0,i=e.length;i>o;o++)if(n.call(t,e[o],o,e)===s)return}else for(var c in e)if(this.has(e,c)&&n.call(t,e[c],c,e)===s)return},extend:function(e){return this.each(o.call(arguments,1),function(n){if(n)for(var t in n)e[t]=n[t]}),e},bind:function(e,n){return n||(n=window),"function"==typeof e?function(){return e.apply(n,arguments)}:e},defaults:function(e){return this.each(o.call(arguments,1),function(n){if(n)for(var t in n)void 0===e[t]&&(e[t]=n[t])}),e},scripts:function(){return Array.prototype.slice.call(document.getElementsByTagName("script"),0)},urlToLocation:function(e){return i.href=e,{href:i.href,host:i.host,port:i.port,hash:i.hash,origin:i.origin,search:i.search,protocol:i.protocol,hostname:i.hostname,pathname:i.pathname}}}}),t("console",[],function(){var e="logger";return{setLogLevel:function(){},setNamespace:function(n){e=n},log:function(){},debug:function(){},info:function(){},warn:function(){console.warn.apply(console,arguments)},error:function(){console.error.apply(console,arguments)},off:function(){}}}),t("helpers/preprocess/abstract",["console"],function(e){return{Processor:null,loadHandler:function(n,t){var r=this.Processor;return function(){switch(this.status){case 0:case 200:case 302:e.debug("File received correctly",n),t(new r(!0,this.response));break;case 404:e.debug("File was not found",n),t(new r(3));break;default:e.debug("Received unhandled status",n,this.status),t(new r(4))}}},errorHandler:function(n,t){var r=this.Processor;return function(){e.debug("Something goes wrong",n,this.status),t(new r(5))}},checkXMLHttpRequestSupport:function(){return"function"==typeof XMLHttpRequest||"object"==typeof XMLHttpRequest},createAjaxLoader:function(e,n,t,r){var o=new XMLHttpRequest;return o.open("GET",n.toUrl(e)+(r||".js"),!0),o.onload=this.loadHandler(e,t),o.onerror=this.errorHandler(e,t),{load:function(){o.send()}}},createDefaultLoader:function(e,n,t){var r=this.Processor;return{load:function(){n([e],function(){t(new r(2))})}}}}}),t("helpers/processor/core",["console","helpers/utils"],function(e,n){var t=[],r=/^\s*define\((['"][^'"]+['"])?,?\s*(?:\[([^\]]+)\])?,?\s*(function[^]+)\);*\s*$/,o=/['"]*\s*/g;return function(s){var i=s||window,c=function(n,t){return this.id=this._responseSourceCache.push(t||"")-1,this.target=i,"boolean"!=typeof n&&1!==n&&0!==n&&"1"!==n&&"0"!==n?(e.debug("Creating simple response with status: "+n),{id:this.id,status:n||6}):(this.status="boolean"==typeof n?+!n:+n,void e.debug("Creating extended resource api with status: "+this.status))};return c.extend=function(){for(var e=0,t=arguments.length;t>e;e++)n.extend(c.prototype,arguments[e])},c.prototype={_responseSourceCache:t,replace:function(n,t){return e.debug('[replace] Executing replace with pattern: "'+n+'" and replace: "'+t+'"'),this._responseSourceCache[this.id]=this._responseSourceCache[this.id].replace(n,t),e.debug("[replace] Executing result: "+this._responseSourceCache[this.id]),this},resolve:function(n){var t,s,c,u,a,f=this._responseSourceCache[this.id],l=r.exec(f);if(e.debug("Execution context",i),l){l[1]&&(u=l[1].replace(o,"")),a=l[2]?l[2].replace(o,"").split(","):[],e.debug('module name: "'+u+'"'),e.debug("module deps: ["+a.join(", ")+"]"),e.debug('module handler: "'+l[3]+'"'),c=new i.Function("return "+l[3]);try{s=c()}catch(p){e.error(p)}if(u)i.define(u,a,function(){try{t=s.apply(this,arguments)}catch(n){e.error(n)}return t}),i.require([u],function(e){"function"==typeof n&&n(e)});else if(a.length)i.require(a,function(){try{t=s.apply(this,arguments)}catch(r){e.error(r)}"function"==typeof n&&n(t)});else{try{t=s()}catch(p){e.error(p)}"function"==typeof n&&n(t)}}else{var d=i.document.createElement("script");d.type="text/javascript",d.text=f,i.document.getElementsByTagName("head")[0].appendChild(d),"function"==typeof n&&n()}return this}},c}}),t("helpers/processor/prefix",["console"],function(e){var n=/(^\s*|}\s*|\s*)([@*.#\w\d\s-:\[\]\(\)="']+)(,|{[^}]+})/g,t=/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g;return{prefix:function(r){var o=new RegExp(r+"\\s","g");return this._responseSourceCache[this.id]=this._responseSourceCache[this.id].replace(t,"").replace(n,"$1"+r+" $2$3").replace(new RegExp(r+"\\s(@(charset|document|font-face|import|keyframes|media|page|supports))","g"),"$1").replace(/url\([^)]+\)/g,function(e){return e.replace(o,"")}).replace(new RegExp("("+r+")\\s(html|body)","g"),"$1"),e.debug('[prefix] Executing result for selector "'+r+'": ',this._responseSourceCache[this.id]),this}}}),t("plugins/requirejs-preprocess-css",["helpers/utils","helpers/preprocess/abstract","helpers/processor/core","helpers/processor/prefix"],function(e,t,r,o){function s(e){return e&&(e.parentNode&&i(e),document.getElementsByTagName("head")[0].appendChild(e)),e}function i(e){return e&&e.parentNode&&"function"==typeof e.parentNode.removeChild&&e.parentNode.removeChild(e),e}console.debug("Creating plugin for loading css with code preprocessing");var c=new r,u=e.extend({},t,{Processor:c});return c.extend(o,{resolve:function(e){var n=this._responseSourceCache[this.id],t=document.createElement("style");t.media="all",t.type="text/css",null!=t.styleSheet&&null!=t.styleSheet.cssText?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n)),s(t),"function"==typeof e&&e({cssNode:t,append:function(){return s(this.cssNode)},remove:function(){return i(this.cssNode)}})}}),{name:"preprocess-css",handler:function(){return{load:function(e,t,r){var o;console.debug("Received css load exec for",e),u.checkXMLHttpRequestSupport()?(o=u.createAjaxLoader(e,t,r,".css"),o.load()):n(["css!"+e],function(){r({status:2})})}}}}}),n("plugins/requirejs-preprocess-css")}),"function"==typeof define&&define.amd&&require(["requirejs-preprocess-css"],function(e){define(e.name,[],e.handler)});