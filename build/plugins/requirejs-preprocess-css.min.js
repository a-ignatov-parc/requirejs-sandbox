!function(e,t){"function"==typeof define&&define.amd?define("requirejs-preprocess-css",[],t):(e.requirejsSandbox||(e.requirejsSandbox={}),e.requirejsSandbox.plugins["requirejs-preprocess-css"]=t())}(this,function(){var e,t,n;return function(r){function o(e,t){return b.call(e,t)}function s(e,t){var n,r,o,s,i,c,u,a,f,l,p,d=t&&t.split("/"),h=v.map,g=h&&h["*"]||{};if(e&&"."===e.charAt(0))if(t){for(d=d.slice(0,d.length-1),e=e.split("/"),i=e.length-1,v.nodeIdCompat&&j.test(e[i])&&(e[i]=e[i].replace(j,"")),e=d.concat(e),f=0;f<e.length;f+=1)if(p=e[f],"."===p)e.splice(f,1),f-=1;else if(".."===p){if(1===f&&(".."===e[2]||".."===e[0]))break;f>0&&(e.splice(f-1,2),f-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((d||g)&&h){for(n=e.split("/"),f=n.length;f>0;f-=1){if(r=n.slice(0,f).join("/"),d)for(l=d.length;l>0;l-=1)if(o=h[d.slice(0,l).join("/")],o&&(o=o[r])){s=o,c=f;break}if(s)break;!u&&g&&g[r]&&(u=g[r],a=f)}!s&&u&&(s=u,c=a),s&&(n.splice(0,c,s),e=n.join("/"))}return e}function i(e,t){return function(){return d.apply(r,w.call(arguments,0).concat([e,t]))}}function c(e){return function(t){return s(t,e)}}function u(e){return function(t){m[e]=t}}function a(e){if(o(y,e)){var t=y[e];delete y[e],x[e]=!0,p.apply(r,t)}if(!o(m,e)&&!o(x,e))throw new Error("No "+e);return m[e]}function f(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function l(e){return function(){return v&&v.config&&v.config[e]||{}}}var p,d,h,g,m={},y={},v={},x={},b=Object.prototype.hasOwnProperty,w=[].slice,j=/\.js$/;h=function(e,t){var n,r=f(e),o=r[0];return e=r[1],o&&(o=s(o,t),n=a(o)),o?e=n&&n.normalize?n.normalize(e,c(t)):s(e,t):(e=s(e,t),r=f(e),o=r[0],e=r[1],o&&(n=a(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:n}},g={require:function(e){return i(e)},exports:function(e){var t=m[e];return"undefined"!=typeof t?t:m[e]={}},module:function(e){return{id:e,uri:"",exports:m[e],config:l(e)}}},p=function(e,t,n,s){var c,f,l,p,d,v,b=[],w=typeof n;if(s=s||e,"undefined"===w||"function"===w){for(t=!t.length&&n.length?["require","exports","module"]:t,d=0;d<t.length;d+=1)if(p=h(t[d],s),f=p.f,"require"===f)b[d]=g.require(e);else if("exports"===f)b[d]=g.exports(e),v=!0;else if("module"===f)c=b[d]=g.module(e);else if(o(m,f)||o(y,f)||o(x,f))b[d]=a(f);else{if(!p.p)throw new Error(e+" missing "+f);p.p.load(p.n,i(s,!0),u(f),{}),b[d]=m[f]}l=n?n.apply(m[e],b):void 0,e&&(c&&c.exports!==r&&c.exports!==m[e]?m[e]=c.exports:l===r&&v||(m[e]=l))}else e&&(m[e]=n)},e=t=d=function(e,t,n,o,s){if("string"==typeof e)return g[e]?g[e](t):a(h(e,t).f);if(!e.splice){if(v=e,v.deps&&d(v.deps,v.callback),!t)return;t.splice?(e=t,t=n,n=null):e=r}return t=t||function(){},"function"==typeof n&&(n=o,o=s),o?p(r,e,t,n):setTimeout(function(){p(r,e,t,n)},4),d},d.config=function(e){return d(e)},e._defined=m,n=function(e,t,n){t.splice||(n=t,t=[]),o(m,e)||o(y,e)||(y[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("../bower_components/almond/almond",function(){}),n("helpers/utils",[],function(){var e=Array.prototype,t=Object.prototype,n=t.hasOwnProperty,r=e.forEach,o=e.slice,s={},i=document.createElement("a");return{has:function(e,t){return n.call(e,t)},each:function(e,t,n){if(null!=e)if(r&&e.forEach===r)e.forEach(t,n);else if(e.length===+e.length){for(var o=0,i=e.length;i>o;o++)if(t.call(n,e[o],o,e)===s)return}else for(var c in e)if(this.has(e,c)&&t.call(n,e[c],c,e)===s)return},extend:function(e){return this.each(o.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},bind:function(e,t){return t||(t=window),"function"==typeof e?function(){return e.apply(t,arguments)}:e},defaults:function(e){return this.each(o.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},scripts:function(){return Array.prototype.slice.call(document.getElementsByTagName("script"),0)},urlToLocation:function(e){return i.href=e,{href:i.href,host:i.host,port:i.port,hash:i.hash,origin:i.origin,search:i.search,protocol:i.protocol,hostname:i.hostname,pathname:i.pathname}}}}),n("console",[],function(){var e="logger";return{setLogLevel:function(){},setNamespace:function(t){e=t},log:function(){},debug:function(){},info:function(){},warn:function(){var t=Array.prototype.slice.call(arguments);t.unshift(e),console.warn.apply(this,arguments)},error:function(){var t=Array.prototype.slice.call(arguments);t.unshift(e),console.error.apply(this,arguments)},off:function(){}}}),n("helpers/preprocess/abstract",["console"],function(e){return{Processor:null,loadHandler:function(t,n){var r=this.Processor;return function(){switch(this.status){case 0:case 200:case 302:e.debug("File received correctly",t),n(new r(!0,this.response));break;case 404:e.debug("File was not found",t),n(new r(3));break;default:e.debug("Received unhandled status",t,this.status),n(new r(4))}}},errorHandler:function(t,n){var r=this.Processor;return function(){e.debug("Something goes wrong",t,this.status),n(new r(5))}},checkXMLHttpRequestSupport:function(){return"function"==typeof XMLHttpRequest||"object"==typeof XMLHttpRequest},createAjaxLoader:function(e,t,n,r){var o=new XMLHttpRequest;return o.open("GET",t.toUrl(e)+(r||".js"),!0),o.onload=this.loadHandler(e,n),o.onerror=this.errorHandler(e,n),{load:function(){o.send()}}},createDefaultLoader:function(e,t,n){var r=this.Processor;return{load:function(){t([e],function(){n(new r(2))})}}}}}),n("helpers/processor/core",["console","helpers/utils"],function(e,t){var n=[],r=/^\s*define\((['"][^'"]+['"])?,?\s*(?:\[([^\]]+)\])?,?\s*(function[^]+)\);*\s*$/,o=/['"]*\s*/g;return function(s){var i=s||window,c=function(t,n){return this.id=this._responseSourceCache.push(n||"")-1,this.target=i,"boolean"!=typeof t&&1!==t&&0!==t&&"1"!==t&&"0"!==t?(e.debug("Creating simple response with status: "+t),{id:this.id,status:t||6}):(this.status="boolean"==typeof t?+!t:+t,void e.debug("Creating extended resource api with status: "+this.status))};return c.extend=function(){for(var e=0,n=arguments.length;n>e;e++)t.extend(c.prototype,arguments[e])},c.prototype={_responseSourceCache:n,replace:function(t,n){return e.debug('[replace] Executing replace with pattern: "'+t+'" and replace: "'+n+'"'),this._responseSourceCache[this.id]=this._responseSourceCache[this.id].replace(t,n),e.debug("[replace] Executing result: "+this._responseSourceCache[this.id]),this},resolve:function(t){var n,s,c,u,a,f=this._responseSourceCache[this.id],l=r.exec(f);if(e.debug("Execution context",i),l){l[1]&&(u=l[1].replace(o,"")),a=l[2]?l[2].replace(o,"").split(","):[],e.debug('module name: "'+u+'"'),e.debug("module deps: ["+a.join(", ")+"]"),e.debug('module handler: "'+l[3]+'"'),c=new i.Function("return "+l[3]);try{s=c()}catch(p){e.error(p)}if(u)i.define(u,a,function(){try{n=s.apply(this,arguments)}catch(t){e.error(t)}return n}),i.require([u],function(e){"function"==typeof t&&t(e)});else if(a.length)i.require(a,function(){try{n=s.apply(this,arguments)}catch(r){e.error(r)}"function"==typeof t&&t(n)});else{try{n=s()}catch(p){e.error(p)}"function"==typeof t&&t(n)}}else{var d=i.document.createElement("script");d.type="text/javascript",d.text=f,i.document.getElementsByTagName("head")[0].appendChild(d),"function"==typeof t&&t()}return this}},c}}),n("helpers/processor/prefix",["console"],function(e){var t=/(^\s*|}\s*|\s*)([@*.#\w\d\s-:\[\]\(\)="']+)(,|{[^}]+})/g,n=/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g;return{prefix:function(r){var o=new RegExp(r+"\\s","g");return this._responseSourceCache[this.id]=this._responseSourceCache[this.id].replace(n,"").replace(t,"$1"+r+" $2$3").replace(new RegExp(r+"\\s(@(charset|document|font-face|import|keyframes|media|page|supports))","g"),"$1").replace(/url\([^)]+\)/g,function(e){return e.replace(o,"")}).replace(new RegExp("("+r+")\\s(html|body)","g"),"$1"),e.debug('[prefix] Executing result for selector "'+r+'": ',this._responseSourceCache[this.id]),this}}}),n("plugins/requirejs-preprocess-css",["helpers/utils","helpers/preprocess/abstract","helpers/processor/core","helpers/processor/prefix"],function(e,n,r,o){function s(e){return e&&(e.parentNode&&i(e),document.getElementsByTagName("head")[0].appendChild(e)),e}function i(e){return e&&e.parentNode&&"function"==typeof e.parentNode.removeChild&&e.parentNode.removeChild(e),e}console.debug("Creating plugin for loading css with code preprocessing");var c=new r,u=e.extend({},n,{Processor:c});return c.extend(o,{resolve:function(e){var t=this._responseSourceCache[this.id],n=document.createElement("style");n.media="all",n.type="text/css",null!=n.styleSheet&&null!=n.styleSheet.cssText?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),s(n),"function"==typeof e&&e({cssNode:n,append:function(){return s(this.cssNode)},remove:function(){return i(this.cssNode)}})}}),{name:"preprocess-css",handler:function(){return{load:function(e,n,r){var o;console.debug("Received css load exec for",e),u.checkXMLHttpRequestSupport()?(o=u.createAjaxLoader(e,n,r,".css"),o.load()):t(["css!"+e],function(){r({status:2})})}}}}}),t("plugins/requirejs-preprocess-css")}),"function"==typeof define&&define.amd&&require(["requirejs-preprocess-css"],function(e){define(e.name,[],e.handler)});